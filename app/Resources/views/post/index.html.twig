{% extends 'base.html.twig' %}

{% block header_button %}
    <a href="{{ path('post_new') }}">
        <button class="btn btn-success my-2 my-sm-0" type="button">Add post</button>
    </a>
{% endblock %}

{% block body %}

    <main role="main" class="container">

        <table>
            <tr>
                {# sorting of properties based on query components #}

            </tr>

            {# table body #}
            {% for posts in pagination %}
                <tr {% if loop.index is odd %}class="color"{% endif %}>

                        <div class="post card bg-light m-3">

                            <h3 class="post-header m-3">
                                {{ posts.title }}
                            </h3>
                            <p class="post-content ml-3 mb-3">
                                {% if posts.content|length > 300 %}
                                {{ posts.content|slice(0,300)~ "..." }}
                                {%  endif %}
                            </p>
                            <a href="{{ path('post_show', {'id': posts.id}) }}">
                                <button type="button" class="btn btn-sm btn-outline-info m-3">See more</button>
                            </a>
                        </div>

                    <td></td>
                </tr>
            {% endfor %}
        </table>
        {# display navigation #}
        <div class="navigation">
            {{ knp_pagination_render(pagination) }}
        </div>

    </main>

{% endblock %}

